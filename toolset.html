<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Toolset</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">About</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="prob-stat.html">Problem statement</a>
</li>
<li>
  <a href="toolset.html">Toolset</a>
</li>
<li>
  <a href="nums.html">By the numbers</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Toolset</h1>

</div>


<style type="text/css">
.leaflet .legend i{
    border-radius: 50%;
    width: 10px;
    height: 10px;
    margin-top: 4px;
}
</style>
<hr />
<p>In the process of programming water quality assessment tools, the team also developed a wide ranging set of tools to access, assess, analyze, and communicate water quality data.</p>
<hr />
<div id="accessing-data" class="section level2">
<h2>Accessing data</h2>
<p>The first and often most time consuming challenge of any water quality data analysis is finding and aggregating appropriate data. This may include ambient water quality monitoring, permitted discharge, and stream flow data. The IR programming team has developed tools to find and read relevant water quality data from AWQMS, the EPA Water Quality Portal, EPA ECHO, and USGS NWIS databases. Each of these databases are web-services enabled. The tools developed by the IR programming team are designed to read data based on user specified query attributes, such as assessment unit, HUC boundary, site or permit identifiers, and parameters directly to an R workspace so that it can be rapidly updated and requeried in a repeatable manner directly within an analytical workflow. One of the unique attributes of this toolset is the ability to view and select sites for data queries from multiple water quality databases in an integrated manner.</p>
<p><br></p>
<div class="figure">
<img src="images/findSites.png" alt="Finding ambient water quality monitoring locations, permitted discharges, and USGS stream gauges along the Bear River." width="100%" />
<p class="caption">
Finding ambient water quality monitoring locations, permitted discharges, and USGS stream gauges along the Bear River.
</p>
</div>
<hr />
</div>
<div id="water-quality-assessment" class="section level2">
<h2>Water quality assessment</h2>
<p>Water quality assessment was the driving motivation for the development of this suite of tools. UDWQ is now using these tools for the purposes of completing water quality assessments and generating <a href="https://deq.utah.gov/legacy/programs/water-quality/monitoring-reporting/assessment/index.htm" target="_blank">305(b) and 303(d) lists for the Integrated Report on water quality conditions in the state of Utah</a>. This suite of tools includes functions for screening water quality data to ensure they meet minimum quality criteria and are applicable to water quality standards, assigning beneficial uses and water quality criteria, calculating formula derived criteria, identifying and counting exceedances of water quality criteria, and assigning sites and assessment units to assessment categories as described in Utah Integrated Report methods. This toolset also includes interactive applications designed to allow internal reviewers of the IR to analyze and visualize water quality data and assessments and provide interpretation and feedback to the IR team.</p>
<p><br></p>
<div class="figure">
<img src="images/asmntDashboard3.png" alt="Reviewing stream total dissolved solids (top) and lake profile (bottom) assessments for the IR." width="100%" />
<p class="caption">
Reviewing stream total dissolved solids (top) and lake profile (bottom) assessments for the IR.
</p>
</div>
<div class="figure">
<img src="images/lake-profs.png" alt="Reviewing stream total dissolved solids (top) and lake profile (bottom) assessments for the IR." width="100%" />
<p class="caption">
Reviewing stream total dissolved solids (top) and lake profile (bottom) assessments for the IR.
</p>
</div>
<p><br></p>
<hr />
</div>
<div id="integrated-data-analysis" class="section level2">
<h2>Integrated data analysis</h2>
<p>One of the most exciting outcomes of this process has been the development of tools to interactively analyze both spatial and temporal patterns in water quality, using multiple types of data from multiple sources. This suite of tools allows a user to rapidly query applicable water quality data by assessment unit, HUC, or site identifier, then generate figures to characterize trends in space and time. <br></p>
<div class="figure">
<img src="images/wqdd4.png" alt="Spatial patterns in total dissolved solids in Utah Lake. Data extracted and analyzed using tools developed by the IR programming team. Note the substantially lower TDS concentrations in Provo Bay (east bay of lake)" width="60%" />
<p class="caption">
Spatial patterns in total dissolved solids in Utah Lake. Data extracted and analyzed using tools developed by the IR programming team. Note the substantially lower TDS concentrations in Provo Bay (east bay of lake)
</p>
</div>
<div class="figure">
<img src="images/wqdd3.png" alt="Utah DWQ's COVID-19 wastewater monitoring dashboard." width="100%" />
<p class="caption">
Utah DWQ’s COVID-19 wastewater monitoring dashboard.
</p>
</div>
<p><br></p>
<hr />
</div>
<div id="communication" class="section level2">
<h2>Communication</h2>
<p>Extracting and analyzing water quality data is important, but effective communication of results to the public, stakeholders, and scientists is essential for making good water quality management decisions. As such, the IR programming team has also been developing interacitve applications, documents, presentations, and pages (this one included) that let users interactive with and understand the data, analyses, and conclusions that DWQ scientists and engineers base water quality management decisions on. This increases the transparency and accountability of DWQ scientists and engineers and can help generate understanding and buy in from the public and stakeholders. Communication tools derived from IR programming team developments have included the <a href="https://udwq.shinyapps.io/UtahLakeDataExplorer/" target="_blank">Utah Lake Data Explorer</a> and the <a href="https://deq.utah.gov/water-quality/sars-cov-2-sewage-monitoring" target="_blank">COVID-19 wastewater monitoring dashboard</a>. These types of tools are highly flexible and can be used as standalone applications or embedded into other webpages for additional context. <br></p>
<div class="figure">
<img src="images/utah-lake.png" alt="Example figure interactively generated from the Utah Lake Data Explorer." width="364" />
<p class="caption">
Example figure interactively generated from the Utah Lake Data Explorer.
</p>
</div>
<div class="figure">
<iframe src="https://udwq.shinyapps.io/sarscov2_surv/?showcase=0" width="100%" height="600px" style="border: none;">
</iframe>
<p class="caption">
Utah DWQ’s COVID-19 wastewater monitoring dashboard.
</p>
</div>
<hr />
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
